<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
       <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <h:outputStylesheet name="css/w3.css" library="resources"/>        
        <h:outputStylesheet name="css/w3-theme-teal.css" library="resources"/>
        <h:outputScript name="js/myJS.js" library="resources"/>
        <link href='https://fonts.googleapis.com/css?family=RobotoDraft' rel='stylesheet' type='text/css'/>
        <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css"/>
        <style>
            html,body,h1,h2,h3,h4,h5 {font-family: "RobotoDraft","Roboto",sans-serif;}
            .w3-sidenav a {padding:16px;font-weight:bold}
        </style>
        <title>TFB Projekti</title>
        <f:metadata>
            <f:viewParam name="ID" value="#{webKorisnik.selektovaniID}"/>
            <f:viewAction action="#{webKorisnik.ucitajOsobu()}"/>
        </f:metadata>
    </h:head>    
    <h:body onload="GreskaProzor()" >
    
        <c:if test="${(LogIn.testRegistracije==true)and(LogIn.lk.korisnik.rola=='admin')}">
        <!-- Izgradnja forme menija -->
        <h:form id="navigacija">           
        <nav class="w3-sidenav w3-collapse w3-light-grey w3-animate-left w3-card-2 w3-center ami-meni" style="display:none" >
            <h:graphicImage value="/resources/img/tfbgrb.png" alt="Grb" style="width: 73.5%" class="w3-circle  w3-margin-top  w3-margin-bottom"> </h:graphicImage>
            <br/>                  
            <a href="javascript:void(0)" onclick="w3_close()" class="w3-text-teal w3-hide-large w3-closenav w3-large">Close &times;</a>               
            <br/>           
            <h:commandLink id="pocetnaStranica"  value="Početna" class="w3-small" action="main"/>                      
            <h:commandLink id="pretrazivanjeProjekata" value="Pretraživanje projekata" class="w3-small" action="pretrazivanjeProjekata" />
            <br/><br/>            
            <h:commandLink id="noviProjekat" value="Unos novog projekta" class="w3-small" action="noviProjekat" rendered="${LogIn.lk.korisnik.rola=='admin'}" /> 
            <h:commandLink id="promjenaKorisnickihPodataka" value="Promjena korisničkih podataka"  class="w3-small" action="promjenaPod" rendered="${LogIn.lk.korisnik.rola!='guest'}" /> 
            <h:commandLink id="unosNovogKorisnika" value="Unos novog korisnika" class="w3-small" action="noviKorisnik" rendered="${LogIn.lk.korisnik.rola=='admin'}" /> 
            <br/><br/>
            <a href="" class="w3-small " target="_blank" onclick="printPage();return false;">Štampaj stranicu</a>
            <br/><br/>
            <h:commandLink id="loginOff" value="Odjava" class="w3-small" action="#{LogIn.logOff()}" />             
        </nav>            
        </h:form> 
        <!-- Kraj forme menija -->
        
        <div class="w3-overlay w3-hide-large" onclick="w3_close()" style="cursor:pointer"></div>
        <div class="w3-main" style="margin-left:250px;">
         <!--Header Unosi -->
            <div id="myTop" class="w3-top w3-container w3-padding-16 w3-theme w3-large"> <i class="fa fa-bars w3-opennav w3-hide-large w3-xlarge w3-margin-left w3-margin-right" onclick="w3_open()"></i>
                <span id="myIntro" class="w3-hide">WEB APLIKACIJA ZA ARHIVIRANJE PROJEKATA <br/><p class="w3-small"><b> Korisnik :#{LogIn.lk.korisnik.ime} #{LogIn.lk.korisnik.prezime}</b></p></span>                                      
            </div>
            <header class="w3-container w3-theme w3-padding-32 w3-padding-jumbo "> <h1 class="w3-xxlarge w3-padding-8">WEB APLIKACIJA ZA ARHIVIRANJE PROJEKATA</h1><p><b>Korisnik: #{LogIn.lk.korisnik.ime} #{LogIn.lk.korisnik.prezime}</b><br/></p></header>
        <!--Kraj header unosa -->   
            
        <!--Unos sadržaja -->    
            <div  class="w3-container w3-padding-jumbo ">                
                <h1 class="w3-text-teal">Ažuriranje, brisanje korisnika</h1>
                <h5>Unesite Vaše podatke:</h5>
                <h:form id="unosNovogKorisnika">
                <ul class="w3-leftbar  w3-theme-border" style="list-style-type:none">                    
                    <li class="w3-small">
                        <p>
                            <label class="ami-labela">Ime :</label>
                            <h:inputText class="w3-border-0 w3-border-teal w3-border-bottom"
                                         style="width: 80%"
                                         value="#{webKorisnik.selektovaniKorisnik.ime}"/>
                        </p>
                        <p>
                            <label class="ami-labela">Prezime :</label>
                            <h:inputText class="w3-border-0 w3-border-teal w3-border-bottom"
                                         style="width: 80%"
                                         value="#{webKorisnik.selektovaniKorisnik.prezime}"/>
                        </p>
                        <p>
                            <label class="ami-labela">Rola :</label>
                            <h:selectOneMenu class="w3-select w3-border w3-border-teal"  
                                             style="width: 80%"
                                             value="#{webKorisnik.selektovaniKorisnik.rola}" >
                                <f:selectItems value="#{webKorisnik.tipovi}" />
                                
                            </h:selectOneMenu> 
                        </p>
                        <p>
                            <label class="ami-labela">Korisničko ime :</label>
                            <h:inputText class="w3-border-0 w3-border-teal w3-border-bottom"
                                         style="width: 80%"
                                         value="#{webKorisnik.selektovaniKorisnik.user}"/>
                        </p> 
                        <p>
                            <label class="ami-labela">Nova zaporka :</label>
                            <h:inputSecret value="#{LogIn.newPass}"
                                         style="width: 80%"
                                         class="w3-border-0 w3-border-teal w3-border-bottom " />
                        </p>
                        
                        <p>
                            <h:commandButton class="w3-btn w3-teal" 
                                             id="btnAzKorisnik"
                                             value="Ažuriraj korisnika"
                                             action="#{LogIn.unesiNovogKorisnika()}"/>
                             &nbsp; &nbsp;
                        
                            <h:commandButton class="w3-btn w3-teal" 
                                             id="btnBrKorisnik"
                                             value="Obriši korisnika"
                                             action="#{LogIn.unesiNovogKorisnika()}"/>
                        </p>
                    </li>                                      
                </ul> 
                <h5> 
                    <br/>
                    <h:message class="w3-container w3-pale-yellow w3-leftbar w3-border-yellow" for="btnNoviKorisnik" /> 
                    <br/>
                </h5>                    
                </h:form>              
            </div>   
        <!--kraj Unosa sadržaja -->        
        </div>
    </c:if>
    <!-- iZGRADNJA MODAL DIALOGA ZA GRESKU-->
    <c:if test="${LogIn.testRegistracije !=true } " > 
       <h:form id="Greska" >
            <div id="modal" class="w3-modal">       
                <div class="w3-modal-content w3-card-8 w3-animate-zoom" style="max-width:600px">
                    <header class="w3-container w3-red"><h2>Nedozvoljen pristup!!!</h2></header>
                    <div class="w3-center"><br/>
                        <h:graphicImage value="/resources/img/tfbgrb.png"  alt="Grb" style="width: 35%"  class="w3-circle w3-margin-top"/>
                    </div>
                    <div class="w3-container">
                        <div class="w3-section">
                            <p class="w3-center w3-medium">Niste logovani na sistem. Morate se logovati!!!<br/></p>
                            <h:commandButton value="Povratak na formu za registraciju" id="myButton" class="w3-btn w3-btn-block w3-red w3-section w3-round-jumbo" action="index"/>          
                        </div>
                    </div> 
                    <footer class="w3-container w3-red w3-right-align"> 
                        <p>Autor Amel Džanić</p>
                    </footer>
                </div>
            </div>                    
        </h:form>         
    </c:if>
    <!-- Kraj MODAL DIALOGA ZA GRESKU-->         
    </h:body>
</html>

